<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    // 홈페이지 개인과제, 월요일에 시험?
    // 잘가는 사이트 만들어도 되고, 뭘 만들어도 되는데
    // CRUD기능과, 모델기능은 꼭 있어야 함
    // 핵심은 배운 거 한번씩 써보고, 이상한 거 꼭 질문합니다!

    // 페이지 나누기 연습용 더미 데이터 만들기
    var v_dummyDatas = [];
    var v_level = ['diamond','platinum','gold','silver'];
    var v_cats = ['information','charge','question','etc'];


    function f_ranCat(){
        var v_cnt = Math.ceil(Math.random()*v_cats.length);
        var v_rslt = [];
        var v_result = [];
        for(var i=0; i<v_cnt; i++){  // 중복체크가 필요하지만 일단 무시 (일단 가정을 해놓고 확인한다)
            var v_ransu = Math.floor(Math.random()* v_cats.length);
            v_rslt.push(v_cats[v_ransu]);
        }

        v_rslt.forEach((element) => {
            if(!v_result.includes(element)){
                v_result.push(element);
            }
        });
        return v_result;
        
    }


    for(var i=1; i<=108; i++){ // 108 번뇌..
        var v_gul = {}; // 빈(empty) 객체 생성
        v_gul.pid = i;
        v_gul.title = "제목 " + i;
        v_gul.writer = "글쓴이 " + i;
        v_gul.content = "내용 " + i + " 입니다"; 
        v_gul.level = v_level[Math.floor(Math.random()*v_level.length)];
        v_gul.cats = f_ranCat();
        v_dummyDatas.push(v_gul); // 배열에 담기
    }

    // 배열을 localStorage에 저장
    localStorage.setItem("boardTB", JSON.stringify(v_dummyDatas));
</script>