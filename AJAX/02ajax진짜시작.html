<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    // 에이잭스 기본 틀
    // 아래처럼 전역변수로 ajax객체를 만들지 않아요(충돌나기때문에)
    // 함수속에 지역변수로 필요할때마다 만들어서 사용
    var v_ajax = new XMLHttpRequest(); // 통신ajax 만들기
    
    // 시킬 일 지점, 비동기여부는 아주 특별한 상황이 아니면 true로...
    v_ajax.open('post', '03dummy.txt'); 
    // get,post,put,delete를 주로사용  \ form태그는 get,post밖에없다

    // 통신 결과를 받으려면 통신이 끝나야 받을 수 있음
    // 이벤트로 알려줌, 통신준비중, 데이터전송중, 끝났음 등..
    v_ajax.onreadystatechange=function(){
        // 통신ajax가 가져온 서버 응답코드 readyState가 4일때 그리고 status가 200일때가 통신이 끝났을때를 의미함
        if(v_ajax.readyState == 4 && v_ajax.status == 200){  
            // 통신ajax가 끝났다고 하는 건 왠지 신뢰가 부족
            // 서버의 응답코드도 잘 응답했다는 코드가 필요
            alert(v_ajax.responseText);
        }
    }
    
    // 시킨대로 하세요, send를 왜 밑에다 쓸까
    // 위에 두고 그 읽어오는게 작거나 짧다면 일부 이벤트를 놓칠수 있어서 
    // 보통 이벤트를 먼저 등록시키고 send가 이벤트를 잡아서 실행시킴
    v_ajax.send();

</script>